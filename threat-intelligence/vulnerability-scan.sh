#!/bin/bash
# Vulnerability Management Pipeline with Trivy
echo "ğŸ” Running Vulnerability Scan..."
echo "=================================="

# Scan the Elasticsearch container image
echo "[1/3] Scanning Elasticsearch image..."
trivy image docker.elastic.co/elasticsearch/elasticsearch:8.11.0 --format json --output trivy-elasticsearch-scan.json

# Scan the Kibana container image  
echo "[2/3] Scanning Kibana image..."
trivy image docker.elastic.co/kibana/kibana:8.11.0 --format json --output trivy-kibana-scan.json

echo "[3/3] Vulnerability scans completed!"
echo "ğŸ“Š Results saved to trivy-*.json files"
